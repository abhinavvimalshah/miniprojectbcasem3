<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Quiz Game</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root { --bg:#0f172a; --card:#111827; --text:#e5e7eb; --accent:#3b82f6; --muted:#9ca3af; }
    * { box-sizing: border-box; }
    body {
      margin: 0; font-family: system-ui, Arial, sans-serif; color: var(--text);
      background: radial-gradient(1200px 600px at 20% -10%, #1f2937, #0b1220), var(--bg);
      display:flex; min-height:100vh; align-items:center; justify-content:center; padding: 24px;
    }
    .app { width: 100%; max-width: 720px; }
    .card {
      background: linear-gradient(180deg, rgba(255,255,255,0.04), rgba(255,255,255,0.02));
      border: 1px solid rgba(255,255,255,0.08);
      box-shadow: 0 10px 30px rgba(0,0,0,0.3);
      border-radius: 16px; padding: 28px;
    }
    h1,h2 { margin: 0 0 16px; line-height: 1.2; }
    h1 { font-size: 28px; letter-spacing: .3px; }
    h2 { font-size: 22px; color: #f3f4f6; }
    p { color: var(--muted); margin: 0 0 12px; }
    .screen { display:none; }
    .screen.active { display:block; }
    .row { display:flex; flex-wrap:wrap; gap:12px; }
    .btn {
      background: var(--accent); color:white; border:none; padding: 12px 16px; border-radius: 10px;
      font-size: 16px; cursor: pointer; transition: transform .06s ease, opacity .2s ease;
    }
    .btn:hover { transform: translateY(-1px); }
    .btn.secondary { background: #374151; }
    .btn.ghost { background: transparent; border: 1px solid rgba(255,255,255,0.12); color: var(--text); }
    .grid { display:grid; gap:12px; }
    .grid.cols-2 { grid-template-columns: repeat(2, minmax(0,1fr)); }
    .option {
      background: #1f2937; border: 1px solid rgba(255,255,255,0.08); color: var(--text);
      text-align:left; padding: 14px 16px; border-radius: 12px; cursor:pointer; font-size: 16px;
    }
    .option:focus { outline: 2px solid var(--accent); }
    .topbar { display:flex; align-items:center; justify-content:space-between; margin-bottom:12px; }
    .muted { color: var(--muted); font-size: 14px; }
    .spacer { height: 6px; }
    .progress-wrap { height: 8px; background: #1f2433; border-radius: 8px; overflow:hidden; }
    .progress { height: 100%; width: 0%; background: linear-gradient(90deg, #60a5fa, #22d3ee); }
    .center { text-align:center; }
    @media (max-width:560px) {
      .grid.cols-2 { grid-template-columns: 1fr; }
    }
  </style>
</head>
<body>
  <div class="app">
    <div class="card">
      <!-- MAIN SCREEN -->
      <section id="main" class="screen active">
        <h1>Welcome to the Quiz Game</h1>
        <p>Pick a category and answer 5 questions. Ready?</p>
        <button class="btn" id="playBtn">Play</button>
      </section>

      <!-- CATEGORY SCREEN -->
      <section id="categories" class="screen">
        <h2>Select a Category</h2>
        <div class="spacer"></div>
        <div class="grid cols-2" id="categoryButtons"></div>
        <div class="spacer"></div>
        <button class="btn ghost" id="backToMain">Back</button>
      </section>

      <!-- QUIZ SCREEN -->
      <section id="quiz" class="screen">
        <div class="topbar">
          <div class="muted" id="quizCat"></div>
          <div class="muted" id="qCounter">Q 1/5</div>
        </div>
        <div class="progress-wrap"><div id="progressBar" class="progress"></div></div>
        <div class="spacer"></div>
        <h2 id="questionText">Question text</h2>
        <div class="grid" id="optionsGrid" style="margin-top:12px;"></div>
        <div class="spacer"></div>
        <div class="row">
          <button class="btn secondary" id="skipBtn">Skip</button>
          <button class="btn" id="nextBtn">Next</button>
        </div>
      </section>

      <!-- RESULT SCREEN -->
      <section id="result" class="screen center">
        <h2 id="resultTitle">Your Result</h2>
        <p id="resultDetail" class="muted">You scored 0 / 5</p>
        <div class="spacer"></div>
        <div class="row center" style="justify-content:center;">
          <button class="btn" id="playAgain">Play Again</button>
          <button class="btn ghost" id="exitBtn">Exit</button>
        </div>
      </section>
    </div>
  </div>

  <script>
    // ----- Data "class" (mirrors a class file) -----
    class QuizData {
      constructor() {
        this.data = {
          Science: [
            { q: "What planet is known as the Red Planet?", options: ["Earth", "Mars", "Venus", "Jupiter"], a: 1 },
            { q: "What gas do plants absorb?", options: ["Oxygen", "Carbon Dioxide", "Nitrogen", "Hydrogen"], a: 1 },
            { q: "Chemical symbol for water?", options: ["O2", "H2O", "CO2", "NaCl"], a: 1 },
            { q: "How many bones in adult human body?", options: ["206", "201", "250", "300"], a: 0 },
            { q: "Which organ pumps blood?", options: ["Lungs", "Heart", "Brain", "Kidneys"], a: 1 }
          ],
          History: [
            { q: "First President of USA?", options: ["Lincoln", "Washington", "Adams", "Jefferson"], a: 1 },
            { q: "Year WWII ended?", options: ["1945", "1939", "1918", "1960"], a: 0 },
            { q: "Who discovered America (widely credited)?", options: ["Columbus", "Magellan", "Cook", "Da Gama"], a: 0 },
            { q: "Who built the Taj Mahal?", options: ["Akbar", "Shah Jahan", "Aurangzeb", "Babur"], a: 1 },
            { q: "Renaissance began in?", options: ["France", "Italy", "England", "Spain"], a: 1 }
          ],
          Sports: [
            { q: "Players in a soccer team on field?", options: ["9", "10", "11", "12"], a: 2 },
            { q: "Sport using a shuttlecock?", options: ["Tennis", "Badminton", "Squash", "Table Tennis"], a: 1 },
            { q: "Host of FIFA 2018?", options: ["Brazil", "Russia", "Qatar", "Germany"], a: 1 },
            { q: "'King of sports' often refers to?", options: ["Cricket", "Soccer", "Tennis", "Hockey"], a: 1 },
            { q: "Rings in Olympic logo?", options: ["4", "5", "6", "7"], a: 1 }
          ],
          Math: [
            { q: "5 + 7 = ?", options: ["11", "12", "13", "14"], a: 1 },
            { q: "√64 = ?", options: ["6", "7", "8", "9"], a: 2 },
            { q: "10 × 10 = ?", options: ["10", "50", "100", "200"], a: 2 },
            { q: "π ≈ ?", options: ["2.14", "3.14", "3.41", "4.13"], a: 1 },
            { q: "25 ÷ 5 = ?", options: ["4", "5", "6", "7"], a: 1 }
          ],
          Geography: [
            { q: "Largest ocean?", options: ["Atlantic", "Indian", "Pacific", "Arctic"], a: 2 },
            { q: "Capital of France?", options: ["Rome", "Berlin", "Paris", "London"], a: 2 },
            { q: "Mount Everest is in?", options: ["India", "Nepal", "China", "Bhutan"], a: 1 },
            { q: "Largest hot desert?", options: ["Sahara", "Gobi", "Arctic", "Thar"], a: 0 },
            { q: "River through Egypt?", options: ["Amazon", "Nile", "Ganges", "Yangtze"], a: 1 }
          ],
          Movies: [
            { q: "Director of Titanic?", options: ["Spielberg", "Cameron", "Nolan", "Scott"], a: 1 },
            { q: "Hogwarts is from?", options: ["LOTR", "Harry Potter", "Narnia", "Percy Jackson"], a: 1 },
            { q: "Iron Man appears in?", options: ["DC", "Avengers", "Matrix", "Avatar"], a: 1 },
            { q: "Oscar 2020 Best Picture?", options: ["Joker", "Parasite", "1917", "Tenet"], a: 1 },
            { q: "Movie with Simba?", options: ["Frozen", "Lion King", "Shrek", "Moana"], a: 1 }
          ]
        };
      }
      categories() { return Object.keys(this.data); }
      get(cat) { return this.data[cat] ?? []; }
    }

    // ----- State -----
    const data = new QuizData();
    const SCREENS = {
      main: document.getElementById('main'),
      categories: document.getElementById('categories'),
      quiz: document.getElementById('quiz'),
      result: document.getElementById('result')
    };
    const catButtons = document.getElementById('categoryButtons');
    const quizCat = document.getElementById('quizCat');
    const qCounter = document.getElementById('qCounter');
    const progressBar = document.getElementById('progressBar');
    const questionText = document.getElementById('questionText');
    const optionsGrid = document.getElementById('optionsGrid');
    const resultTitle = document.getElementById('resultTitle');
    const resultDetail = document.getElementById('resultDetail');

    let currentCategory = '';
    let questions = [];
    let qIndex = 0;
    let score = 0;
    let selectedIndex = -1;

    // ----- Helpers -----
    function show(id) {
      Object.values(SCREENS).forEach(s => s.classList.remove('active'));
      SCREENS[id].classList.add('active');
    }
    function resetQuiz(cat) {
      currentCategory = cat;
      questions = [...data.get(cat)]; // shallow copy
      qIndex = 0; score = 0; selectedIndex = -1;
      updateProgress();
      renderQuestion();
    }
    function updateProgress() {
      qCounter.textContent = `Q ${Math.min(qIndex + 1, 5)}/5`;
      progressBar.style.width = `${(qIndex / 5) * 100}%`;
      quizCat.textContent = currentCategory;
    }
    function renderQuestion() {
      const q = questions[qIndex];
      questionText.textContent = q.q;
      optionsGrid.innerHTML = '';
      optionsGrid.classList.add('grid'); // ensure grid
      q.options.forEach((opt, i) => {
        const btn = document.createElement('button');
        btn.className = 'option';
        btn.type = 'button';
        btn.textContent = opt;
        btn.onclick = () => { selectedIndex = i; next(); };
        btn.onkeyup = (e) => { if (e.key === 'Enter' || e.key === ' ') { selectedIndex = i; next(); } };
        optionsGrid.appendChild(btn);
      });
      document.getElementById('nextBtn').disabled = false;
      document.getElementById('skipBtn').disabled = false;
      updateProgress();
    }
    function next() {
      const q = questions[qIndex];
      if (selectedIndex === q.a) score++;
      selectedIndex = -1;
      qIndex++;
      if (qIndex >= 5) {
        showResult();
      } else {
        renderQuestion();
      }
    }
    function skip() {
      selectedIndex = -1;
      qIndex++;
      if (qIndex >= 5) showResult(); else renderQuestion();
    }
    function showResult() {
      show('result');
      resultTitle.textContent = 'Quiz Complete!';
      resultDetail.textContent = `You scored ${score} / ${questions.length}`;
      progressBar.style.width = '100%';
    }

    // ----- Bootstrap -----
    // Main → Category
    document.getElementById('playBtn').onclick = () => {
      catButtons.innerHTML = '';
      data.categories().forEach(cat => {
        const b = document.createElement('button');
        b.className = 'btn';
        b.textContent = cat;
        b.onclick = () => { show('quiz'); resetQuiz(cat); };
        catButtons.appendChild(b);
      });
      show('categories');
    };
    document.getElementById('backToMain').onclick = () => show('main');

    // Quiz controls
    document.getElementById('nextBtn').onclick = () => {
      // If user clicked Next without clicking an option, just advance (no score)
      selectedIndex = -1;
      skip();
    };
    document.getElementById('skipBtn').onclick = skip;

    // Result controls
    document.getElementById('playAgain').onclick = () => show('main');
    document.getElementById('exitBtn').onclick = () => {
      // In a browser, “exit” isn’t meaningful; we just go back to main.
      show('main');
    };

    // Accessibility: Arrow keys to move focus between options
    optionsGrid.addEventListener('keydown', (e) => {
      const opts = [...optionsGrid.querySelectorAll('.option')];
      const idx = opts.indexOf(document.activeElement);
      if (e.key === 'ArrowDown' || e.key === 'ArrowRight') {
        e.preventDefault(); opts[Math.min(idx + 1, opts.length - 1)]?.focus();
      } else if (e.key === 'ArrowUp' || e.key === 'ArrowLeft') {
        e.preventDefault(); opts[Math.max(idx - 1, 0)]?.focus();
      }
    });
  </script>
</body>
</html>
